---
title: Sending Packets
description: Creating and sending packets
---

## Sending Packets

<Callout type="warn">

**It's recommended you use the beta grid for testing**

We're not responsible for any issues you may encounter, especially if you're touching anything inventory related.

</Callout>

Currently there aren't much in terms of "sugar" for features. For now if something is missing, you can use the `await client.send([packet])` method to send various packets.

You can find packets in the `Packets` object.

```ts twoslash
// @noErrors
import { packets } from "@gwigz/homunculus-core"

packets.ejec
//          ^|
```

Sending packets is very loosely validated, the serializer will only throw an error if it cannot serialize the packet. Packets that are assumed to be valid will be sent, if not the server will typically ignore it.

```ts twoslash
// @noErrorValidation
import { Client } from "@gwigz/homunculus-core"

const client = new Client()

// ---cut---
import { packets } from "@gwigz/homunculus-core"

client.send([
  packets.ejectUser({
    data: { targetId: "f09c1bae-df16-4413-93d7-251ed92c6d9a" },
  }),
])
```

Once we get around to it, we'll add features to make this easier. Ejecting for example is already implemented in the `Nearby` class.

```ts twoslash
// @noErrors
import { Client } from "@gwigz/homunculus-core"

const client = new Client()

// ---cut---
client.nearby.eject("f09c1bae-df16-4413-93d7-251ed92c6d9a")
```

### Sending a sound trigger

```ts twoslash
import { Client } from "@gwigz/homunculus-core"

const client = new Client()

// ---cut---
import { packets, UUID } from "@gwigz/homunculus-core"
import assert from "node:assert"

client.send([
  packets.soundTrigger({
    soundData: {
      soundId: "884f50ac-9a0b-5667-334f-78ce08f9402e",
      ownerId: UUID.zero,
      objectId: UUID.zero,
      parentId: UUID.zero,
      handle: client.region.handle,
      position: client.self.position,
      gain: 1,
    },
  }),
])
```

Now, as for how you'd figure out what the fields actually are, or their defaults, you'll want to check the [official viewers source code.](https://github.com/secondlife/viewer)
