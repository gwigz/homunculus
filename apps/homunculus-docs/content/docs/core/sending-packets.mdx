---
title: Sending Packets
description: Creating and sending packets
---

## Sending Packets

Currently there aren't much in terms of "sugar" for features. For now if something is missing, you can use the `await client.send([packet])` method to send various packets.

Sending packets is very loosely validated, the serializer will only throw an error if it cannot serialize the packet. Packets that are assumed to be valid will be sent, but the server may just ignore it.

<Callout type="warn">

**It's recommended you use the beta grid for testing**

We're not responsible for any issues you may encounter, especially if you're touching anything inventory related.

</Callout>

### Sending an estate message

Here's an example of how to send an estate message. Any optional fields can be omitted, the serializer will fill them in for you if they're actually required.

```ts twoslash
import { Client } from "@gwigz/homunculus-core";

const client = new Client();

// ---cut---
import { Packets, UUID } from "@gwigz/homunculus-core";
import assert from "node:assert";

assert(client.self?.name, "Cannot send estate message without a name");

assert(
  client.self?.isEstateManager,
  "Cannot send estate message without being an estate manager"
);

await client.send([
  new Packets.EstateOwnerMessage({
    agentData: { transactionId: UUID.zero },
    methodData: {
      method: "simulatormessage",
      invoice: UUID.random(),
    },
    paramList: [
      { parameter: client.self.name },
      { parameter: "Hello, world!" },
    ],
  }),
]);
```

Now, as for how you'd figure out what the fields actually are, you'll want to check the [official viewers source code.](https://github.com/secondlife/viewer)

Once we get around to it, we'll add features to make this easier. Estate messages for example are already implemented in the `Region` class.

```ts twoslash
import { Client } from "@gwigz/homunculus-core";

const client = new Client();

// ---cut---
await client.region?.sendEstateMessage("Hello, world!");
```
