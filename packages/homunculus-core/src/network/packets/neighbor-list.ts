/**
 * NeighborList Packet
 *
 * This file is used to help our packet serialization and deserialization
 * process, and to create new packets on the fly.
 *
 * ⚠️ Do not edit this file manually, it is generated by the `codegen` script!
 *
 * @see {@link http://wiki.secondlife.com/wiki/Message_Layout}
 */

import {
	createPacketDelegate,
	createPacketSender,
	type PacketMetadata,
} from "../packet"
import { IP, Port, U8, UUID, Variable1 } from "../types"

export interface NeighborListData {
	neighborBlock?: {
		ip: IP
		port: Port
		publicIp: IP
		publicPort: Port
		regionId: string
		name: string | Buffer
		simAccess: number
	}[]
}

export const neighborListMetadata = {
	id: 3,
	name: "NeighborList",
	trusted: true,
	blocks: [
		{
			name: "neighborBlock",
			parameters: [
				["ip", IP],
				["port", Port],
				["publicIp", IP],
				["publicPort", Port],
				["regionId", UUID],
				["name", Variable1],
				["simAccess", U8],
			],
			multiple: true,
			size: 4,
		},
	],
} satisfies PacketMetadata

export const neighborList =
	createPacketSender<NeighborListData>(neighborListMetadata)

export const createNeighborListDelegate =
	createPacketDelegate<NeighborListData>(neighborListMetadata)
